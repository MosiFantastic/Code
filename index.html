<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>چرخ شانس VIVA DIVA</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
            background-color: #f4f4f4;
        }
        .wheel-container {
            position: relative;
            margin: 0 auto;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            border: 10px solid #ff9800;
            background: conic-gradient(#ff9800 0% 16%, #4caf50 16% 32%, #2196f3 32% 48%, #f44336 48% 64%, #9c27b0 64% 80%, #ffc107 80% 100%);
        }

        .wheel {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50px;
            height: 50px;
            background-color: #ff9800;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }

        .reward {
            margin-top: 20px;
            font-size: 24px;
            color: green;
            font-weight: bold;
        }

        .message {
            margin-top: 10px;
            font-size: 18px;
        }

        .disabled {
            background-color: #9e9e9e;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

    <h1>چرخ شانس VIVA DIVA</h1>
    <p>یک شانس برای دریافت تخفیف!</p>

    <div class="wheel-container">
        <div class="wheel" id="wheel" onclick="spinWheel()"></div>
    </div>

    <div id="reward" class="reward"></div>
    <div id="message" class="message"></div>

    <script>
        let spunToday = localStorage.getItem('spunToday');

        if (spunToday) {
            document.getElementById('message').innerText = "شما امروز قبلاً چرخوندید!";
            document.getElementById('wheel').classList.add('disabled');
        }

        function spinWheel() {
            // اگر کاربر قبلاً چرخوند، اجازه چرخوندن نداره
            if (localStorage.getItem('spunToday')) {
                return;
            }

            // چرخاندن چرخ
            const rewards = [
                "10% تخفیف",
                "20% تخفیف",
                "30% تخفیف",
                "50% تخفیف",
                "کد رایگان برای خرید بعدی",
                "هیچ‌چیزی! دوباره تلاش کن!"
            ];

            const randomReward = rewards[Math.floor(Math.random() * rewards.length)];

            // نمایش جایزه به کاربر
            document.getElementById('reward').innerHTML = `جایزه شما: ${randomReward}`;

            // ذخیره‌سازی وضعیت چرخاندن برای امروز
            localStorage.setItem('spunToday', 'true');

            // غیر فعال کردن چرخ برای امروز
            document.getElementById('wheel').classList.add('disabled');
            document.getElementById('message').innerText = "شما امروز قبلاً چرخوندید!";
        }

        // ریست کردن وضعیت برای روز بعد (هر 24 ساعت)
        setInterval(function() {
            localStorage.removeItem('spunToday');
            document.getElementById('wheel').classList.remove('disabled');
            document.getElementById('reward').innerHTML = '';
            document.getElementById('message').innerText = '';
        }, 86400000); // 86400000 میلی‌ثانیه = 24 ساعت
    </script>

</body>
</html>
